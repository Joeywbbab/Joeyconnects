# Store App Setup Guide

## 概述
Joey's Store 是一个想法与产品交换空间，包含三个核心功能：

1. **Idea Vault（想法保险库）** - 分享和认领产品想法
2. **Product Shelf（产品货架）** - 展示已完成的产品
3. **Challenge System（挑战系统）** - 7/14/21天实现挑战

## 数据库设置

### 步骤 1: 运行 SQL 脚本

在 Supabase Dashboard 的 SQL Editor 中运行以下文件：

```
database/STORE_TABLES.sql
```

这将创建四个表：
- `ideas` - 存储产品想法
- `claims` - 追踪谁认领了哪个想法
- `products` - 存储已完成的产品
- `does_work_for_me` - 用户反馈统计

### 步骤 2: 验证表创建

在 Supabase Dashboard → Table Editor 中，你应该看到这些新表。

## 功能说明

### 1. Idea Vault（想法保险库）

**上传新想法**：
- 任何登录用户都可以上传想法
- 需要提供：标题、描述、预期实现天数（7/14/21天）
- 想法会显示创建者邮箱

**认领想法**：
- 任何登录用户都可以认领任何想法
- 一个想法可以被多人同时认领（像图书馆馆藏）
- 认领后想法不会消失，只会显示"进行中"状态
- 认领数量会影响产品的积分价格（供给越多，价格越低）

### 2. Product Shelf（产品货架）

**上传产品**：
- 需要登录
- 不必先认领想法就能上传产品（可以直接分享自己的产品）
- 需要提供：
  - 标题和描述
  - 实际完成天数
  - 产品链接（可选）
  - 关联的想法 ID（可选）

**货架展示**：
- 网格布局，类似小卖部货架
- 每个产品显示：
  - 标题、描述
  - 实际完成天数
  - "Does Work For Me" 统计
  - 创建者邮箱
  - 产品链接（如果有）

### 3. Does Work For Me 功能

**使用方法**：
- 任何登录用户都可以点击
- 这不是投票，而是使用体验统计
- 表示"我使用过这个产品，它对我有用"
- 每个用户对每个产品只能点击一次

**影响**：
- 影响产品在货架上的排序
- 未来可能影响产品的推荐算法
- 暂不影响积分价格

## 积分系统（P1 优先级，暂未实现）

### 价格计算逻辑：
```
基础积分 = 预期天数 × 系数
供给调整 = 认领人数 > 1 ? 降价系数 : 1
最终价格 = 基础积分 × 供给调整
```

### 获得积分：
- 上传产品获得积分
- 积分与完成速度相关（越快完成，奖励越高？）

### 消耗积分：
- 下载或使用产品需要积分

## UI 特点

### 复古小卖部风格
- 使用 Product Hunt 配色（ph-blue, ph-orange, ph-green, ph-beige）
- 粗边框（border-2 border-ph-black）
- 阴影效果（shadow-retro-sm, shadow-retro）
- 悬停上浮效果（hover:-translate-y-1）

### 响应式布局
- Idea Vault: 列表视图（一列）
- Product Shelf: 网格视图（1/2/3列，根据屏幕尺寸）

### 交互细节
- 切换标签查看 Ideas 或 Products
- 登录用户可以看到"添加"按钮
- 未登录用户可以浏览，但不能交互
- 表单使用折叠/展开动画

## 权限说明

### 查看权限
✅ 所有人（包括未登录用户）都可以：
- 浏览所有想法
- 浏览所有产品
- 查看统计数据

### 操作权限
🔐 只有登录用户可以：
- 上传新想法
- 认领想法
- 上传产品
- 点击 "Does Work For Me"

### 编辑/删除权限
🔐 用户只能：
- 编辑/删除自己创建的想法
- 编辑/删除自己创建的产品
- 取消自己的认领

## 数据示例

### 想法示例
```
标题: "一个番茄钟应用但有AI教练"
描述: "结合番茄工作法和AI对话，在工作间隙给予鼓励和建议"
预期天数: 14
认领数: 3
```

### 产品示例
```
标题: "极简待办清单"
描述: "没有多余功能，只有任务和完成勾选"
实际天数: 5
产品链接: https://github.com/user/todo-app
Does Work For Me: 12
```

## 理念

> "Ideas don't belong to you. They belong to whoever builds them."

这个 Store 的核心是**开放和分享**：
- 想法不应该被囤积，而应该被实现
- 一个人的溢出，是另一个人的起点
- 通过认领和完成挑战，想法变成真实的产品

## 下一步开发计划

### P0（已完成）
- ✅ 数据库设计和 RLS 策略
- ✅ Idea Vault UI
- ✅ Product Shelf UI
- ✅ 上传想法功能
- ✅ 认领想法功能
- ✅ 上传产品功能
- ✅ Does Work For Me 统计

### P1（未来功能）
- 积分系统实现
- 挑战倒计时显示
- 产品图片上传
- 搜索和筛选功能
- 排序算法优化

---
更新时间: 2025-12-20
